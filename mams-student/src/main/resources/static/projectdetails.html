<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link href="layui/css/layui.css" rel="stylesheet">
    <script src="layui/layui.js"></script>
    <script src="js/vueresource/vuejs-2.5.16.js"></script>
    <script src="js/vueresource/axios-0.18.0.js"></script>
</head>
<body>
<script>


</script>
<ul class="layui-nav">
    <li class="layui-nav-item"><a href="baseinfo.html">基本信息</a></li>
    <li class="layui-nav-item"><a href="document.html">档案信息</a></li>
    <li class="layui-nav-item"><a href="educationbackgroud.html">学籍管理</a></li>
    <li class="layui-nav-item"><a href="contact.html">联系方式</a></li>
    <li class="layui-nav-item"><a href="studentrewardandpunishment.html">奖惩信息</a></li>
    <li class="layui-nav-item"><a href="studyandworkexperience.html">教育和工作经历</a></li>
    <li class="layui-nav-item"><a href="projectscan.html">志愿管理</a></li>
    <li class="layui-nav-item  layui-this"><a href="projectscan.html">志愿详情</a></li>
</ul>
<title>adjshfgjkasdjkf</title>
<div class="layui-text layui-container" id="details" style="page-break-before: always;">
    <h2>学校信息</h2>
    <pre>
    <font style="font-size: 18px;color: blue;">学校</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.schoolName}}</font>
    <font style="font-size: 18px;color: blue;">院系</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.department}}</font>
    <font style="font-size: 18px;color: blue;">专业</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.professionName}}</font></pre>
    <h2>负责人信息</h2>
    <pre>
    <font style="font-size: 18px;color: blue;">负责人</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.tutorName}}</font>        <font style="font-size: 18px;color: blue;">咨询电话</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.contactNumber}}</font>
</pre>
    <h2>招生计划</h2>
    <pre>
    <font style="font-size: 18px;color: blue;">招生人数</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.count}}</font>
    <font style="font-size: 18px;color: blue;">考试类型</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.examType}}</font>
    <font style="font-size: 18px;color: blue;">学制</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.schoolingType}}</font>
    <font style="font-size: 18px;color: blue;">是否定向就业</font>:<font style="font-size: 18px;color: #fd271d;">{{enrollmentProject.signUpType}}</font></pre>
    <h2>考生要求</h2>
    <pre>
    <font style="font-size: 18px;color: blue;">政治要求</font>:<font style="font-size: 18px;color: #fd271d;">{{examRequirement.politicalDemand}}</font>
    <font style="font-size: 18px;color: blue;">时间要求</font>:<font style="font-size: 18px;color: #fd271d;">{{examRequirement.timeDemand}}</font>
    <font style="font-size: 18px;color: blue;">考试要求</font>:<font style="font-size: 18px;color: #fd271d;">{{examRequirement.examDemand}}</font>
    <font style="font-size: 18px;color: blue;">公共课要求</font>:<font style="font-size: 18px;color: #fd271d;">{{examRequirement.publicCourseDemand}}</font>
    <font style="font-size: 18px;color: blue;">专业可要求</font>:<font style="font-size: 18px;color: #fd271d;">{{examRequirement.majorCourseDemand}}</font>
    <font style="font-size: 18px;color: blue;">附加信息</font> :<font style="font-size: 18px;color: #fd271d;">{{examRequirement.extendMessage}}</font>
</pre>
    <button class="layui-btn layui-btn-xs" @click="saveApplication">点击报名</button>
</div>

<script>

    var details = new Vue({
        el: "#details",
        data: {
            enrollmentProject: JSON.parse(localStorage.getItem("enrollmentProject")),
            examRequirement: JSON.parse(localStorage.getItem("examRequirement")),
        },
        methods: {
            saveApplication:function () {
                var studentApplication={
                    studentId:JSON.parse(localStorage.getItem("student")).studentId,
                    projectId:JSON.parse(localStorage.getItem("enrollmentProject")).id,
                    requirementId:JSON.parse(localStorage.getItem("examRequirement")).id,
                    tutorId:JSON.parse(localStorage.getItem("examRequirement")).tutorId
                }
                axios({
                    url: "/student/saveApplication",
                    method: "post",
                    dataType: "json",
                    data: studentApplication,
                }).then(function (data) {
                   if (data.data.value==1)
                    window.location.href = "examapplication.html";
                });
            }
        }
    })




</script>
</body>
</html>